{"version":3,"file":"src_app_tab1_tab1_module_ts.js","mappings":"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","sources":["./src/app/tab1/simple-modal/simple-modal-routing.module.ts","./src/app/tab1/simple-modal/simple-modal.module.ts","./src/app/tab1/tab1-routing.module.ts","./src/app/tab1/tab1.module.ts","./src/app/tab1/tab1.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SimpleModalPage } from './simple-modal.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SimpleModalPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SimpleModalPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SimpleModalPageRoutingModule } from './simple-modal-routing.module';\r\n\r\nimport { SimpleModalPage } from './simple-modal.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SimpleModalPageRoutingModule\r\n  ],\r\n  declarations: [SimpleModalPage],\r\n})\r\nexport class SimpleModalPageModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { Tab1Page } from './tab1.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: Tab1Page,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class Tab1PageRoutingModule {}\r\n","import { IonicModule } from '@ionic/angular';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Tab1Page } from './tab1.page';\r\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\r\n\r\nimport { Tab1PageRoutingModule } from './tab1-routing.module';\r\nimport { SimpleModalPageModule } from './simple-modal/simple-modal.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    ExploreContainerComponentModule,\r\n    Tab1PageRoutingModule,\r\n    SimpleModalPageModule\r\n  ],\r\n  declarations: [Tab1Page]\r\n})\r\nexport class Tab1PageModule {}\r\n","import { ModalController, LoadingController, ViewWillEnter } from '@ionic/angular';\r\nimport { CommonServiceService } from './../common-service.service';\r\nimport { Component, Input } from '@angular/core';\r\nimport { SimpleModalPage } from './simple-modal/simple-modal.page';\r\n\r\n@Component({\r\n  selector: 'app-tab1',\r\n  templateUrl: 'tab1.page.html',\r\n  styleUrls: ['tab1.page.scss']\r\n})\r\nexport class Tab1Page implements ViewWillEnter {\r\n\r\n  @Input() status: any = 'pending'\r\n  bookingData: any = [];\r\n  constructor(\r\n    private bookingService: CommonServiceService,\r\n    public modalController: ModalController,\r\n    public loadingController: LoadingController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  \r\n  ionViewWillEnter() {\r\n    this.getBooking();\r\n  }\r\n\r\n\r\n  getBooking() {\r\n    this.presentLoading().then(a => console.log('presented'));\r\n\r\n    this.bookingService.getAllBooking(this.status).subscribe((resp: any) => {\r\n      console.log(resp);\r\n      this.bookingData = resp && resp.bookingData || [];\r\n      this.loadingController.dismiss().then(a => console.log('dismissed'));\r\n\r\n    })\r\n  }\r\n\r\n  onToogle(event, booking) {\r\n    console.log(booking);\r\n    \r\n    let status: String;\r\n    console.log(event.target.value);\r\n    if(event.detail.checked) {\r\n      status = 'approved';\r\n    } else {\r\n      status = 'pending'\r\n    }\r\n\r\n    this.bookingService.confirmBooking(booking._id, status).subscribe((resp: any) => {\r\n      if(resp.status === 'success') {\r\n        this.getBooking();\r\n      }\r\n    }, (err) => {\r\n      console.log(\"Internal server error, Please try again\");\r\n      \r\n    })\r\n    \r\n  }\r\n\r\n  ChangeToogle(value) {\r\n    if(value === 'pending') {\r\n      return false;\r\n    } else {\r\n      return true\r\n    }\r\n  } \r\n \r\n  async presentModal(booking) {\r\n    console.log(\"form main\" , booking);\r\n    \r\n    const modal = await this.modalController.create({\r\n      component: SimpleModalPage,\r\n      breakpoints: [0, 0.3, 0.5, 0.8, 1],\r\n      initialBreakpoint: 0.8,\r\n      componentProps: {\r\n        booking: booking\r\n      }\r\n    });\r\n    modal.onDidDismiss().then(() => {\r\n      this.getBooking();\r\n    })\r\n    await modal.present();\r\n  }\r\n\r\n  async presentLoading() {\r\n    const loading = await this.loadingController.create({\r\n      message: 'please wait. . .',\r\n      duration: 5000\r\n    });\r\n    return await loading.present();\r\n  }\r\n}"],"names":["ModalController","LoadingController","CommonServiceService","Component","Input","SimpleModalPage","Tab1Page","constructor","bookingService","modalController","loadingController","ngOnInit","ionViewWillEnter","getBooking","presentLoading","then","a","console","log","getAllBooking","status","subscribe","resp","bookingData","dismiss","onToogle","event","booking","target","value","detail","checked","confirmBooking","_id","err","ChangeToogle","presentModal","modal","create","component","breakpoints","initialBreakpoint","componentProps","onDidDismiss","present","loading","message","duration","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}